// ==UserScript==
// @name         j-u-m-p-t-o-o-n
// @namespace    j-u-m-p-t-o-o-n.user.js
// @version      2024.10.12
// @description  down j-u-m-p-t-o-o-n
// @author       You
// @include      /^https:\/\/j[u2]mpt[o0]on\.c[o0]m\/s[e3]ri[e3]s\/.+?\/[e3]pis[o0]des\//
// @icon         https://raw.githubusercontent.com/kikuchiryo1234/va_ngon_lau/main/j-u-m-p-t-o-o-n.png
// @require      https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js
// @grant        GM_addElement
// @downloadURL  https://github.com/kikuchiryo1234/va_ngon_lau/raw/main/j-u-m-p-t-o-o-n.user.js
// @updateURL    https://github.com/kikuchiryo1234/va_ngon_lau/raw/main/j-u-m-p-t-o-o-n.meta.js
// ==/UserScript==

const a0_0x4dc6d3=a0_0x2c25;(function(_0x300552,_0x59648f){const _0x177c62=a0_0x2c25,_0x38f4ec=_0x300552();while(!![]){try{const _0x51a3fd=-parseInt(_0x177c62(0x110))/0x1+-parseInt(_0x177c62(0x11b))/0x2+parseInt(_0x177c62(0xfc))/0x3+parseInt(_0x177c62(0xef))/0x4+-parseInt(_0x177c62(0x104))/0x5+parseInt(_0x177c62(0xf9))/0x6+parseInt(_0x177c62(0xed))/0x7;if(_0x51a3fd===_0x59648f)break;else _0x38f4ec['push'](_0x38f4ec['shift']());}catch(_0x421738){_0x38f4ec['push'](_0x38f4ec['shift']());}}}(a0_0x1204,0xa07ac));let downloading_current=0x0,downloading_total=0x0,div_status_box;function sleep(_0x108f67){return new Promise(_0x24f5e1=>setTimeout(_0x24f5e1,_0x108f67));}const ei=_0x1d4cc4=>({'next':()=>_0x1d4cc4=(0x19660d*_0x1d4cc4+0x3c6ef35f)%0x100000000}),et=(_0x15b3a6,_0x15f5fb,_0x1b1b10)=>{const _0x39cb41=a0_0x2c25;let _0x217ff4=Array['from']({'length':_0x15f5fb},(_0x3e88dc,_0x2b6180)=>_0x2b6180),_0x3590a4=_0x15f5fb;0x0!==_0x1b1b10&&_0x3590a4--;let _0x1e685f=ei(_0x15b3a6);for(let _0x4852c2=_0x3590a4;_0x4852c2>0x1;_0x4852c2--){let _0x5a1f4c=_0x1e685f[_0x39cb41(0x114)]()%_0x4852c2;[_0x217ff4[_0x5a1f4c],_0x217ff4[_0x4852c2-0x1]]=[_0x217ff4[_0x4852c2-0x1],_0x217ff4[_0x5a1f4c]];}return _0x217ff4;},es=(_0x403236,_0x2dc42d,_0x407d63)=>{const _0x361b04=a0_0x2c25;let _0x89515=Math[_0x361b04(0xec)](_0x2dc42d/0x15),_0x5d48c3=_0x2dc42d%0x15,_0x2eba8a=et(_0x403236,_0x89515,_0x5d48c3),_0x46a6f1=Array[_0x361b04(0xf1)]({'length':_0x89515}),_0x165833=[];for(let _0x5635f6 of _0x2eba8a)_0x46a6f1[_0x2eba8a[_0x5635f6]]=_0x5635f6;for(let _0x2e9032=0x0;_0x2e9032<_0x89515;_0x2e9032++){let _0x174000=0x15*_0x46a6f1[_0x2e9032]+0x3,_0x560386=0xc*_0x2e9032;_0x165833[_0x361b04(0x118)]([_0x174000,0x0,0xc,_0x407d63,_0x560386,0x0,0xc,_0x407d63]);}if(_0x5d48c3){let _0x288356=0x15*_0x89515+0x3,_0xc05581=0xc*_0x89515;_0x165833['push']([_0x288356,0x0,_0x5d48c3,_0x407d63,_0xc05581,0x0,_0x5d48c3,_0x407d63]);}return _0x165833;},download_encrypted=async(_0x54c162,_0x33c590,_0x519eff)=>{const _0x1108d0=a0_0x2c25,_0x4cf717=await fetch(_0x54c162[_0x1108d0(0x102)]),_0x51f30c=await _0x4cf717['blob'](),_0x3f630a=window[_0x1108d0(0x103)]||window[_0x1108d0(0x10d)],_0x28c519=_0x3f630a[_0x1108d0(0xf4)](_0x51f30c),_0x2e42da=new Image();_0x2e42da['onload']=()=>{const _0x104fc1=_0x1108d0;let _0x310174=es(_0x519eff,_0x2e42da['width'],_0x2e42da[_0x104fc1(0x10e)]);const _0x492485=document[_0x104fc1(0xf0)](_0x104fc1(0xee));_0x492485['width']=Number[_0x104fc1(0xeb)](_0x54c162[_0x104fc1(0x11c)],0xa),_0x492485['height']=Number['parseInt'](_0x54c162[_0x104fc1(0x10e)],0xa);const _0x4b0424=_0x492485[_0x104fc1(0xf7)]('2d');for(let _0x1008f9 of _0x310174){_0x4b0424[_0x104fc1(0x109)](_0x2e42da,..._0x1008f9);}_0x492485['toBlob'](_0x41f005=>{const _0x131a4e=_0x104fc1;saveAs(_0x41f005,(''+(_0x33c590+0x1))['padStart'](0x3,'0')+_0x131a4e(0x112)),downloading_current+=0x1,update_status(),window[_0x131a4e(0x103)][_0x131a4e(0x115)](_0x28c519);},_0x104fc1(0x113),0.99);},_0x2e42da[_0x1108d0(0xf8)]=_0x28c519;};function a0_0x1204(){const _0x4ebdfb=['map','.jpg','image/jpeg','next','revokeObjectURL','img','seriesEpisodeContent','push','https://fonts.googleapis.com/css2?family=Acme&display=swap','addEventListener','1349314QYCSii','width','querySelector','div','parseInt','floor','11450446kXngEh','canvas','1158260TdtsFr','createElement','from','innerHTML','stylesheet','createObjectURL','\x20/\x20','link','getContext','src','431694szmuWP','tai-ve-icon','all','618813UQHZoc','split','display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20gap:\x201.5rem;\x20position:\x20absolute;\x20z-index:\x2010000;\x20top:\x200.5rem;\x20left:\x2050vw;\x20transform:\x20translate(-50%)','length','splice','tai-ve','imageUrl','URL','3162900ecXbUH','style','substring','block','display','drawImage','status','parse','font-family:\x20\x27Acme\x27,\x20sans-serif\x20!important;\x20font-size:\x203rem;\x20color:\x20#FD7377;\x20-webkit-text-stroke:\x201px\x20#C62428;\x20border:\x200.2rem\x20solid\x20#167975;\x20border-radius:\x201rem;\x20padding:\x200\x202rem;\x20background-color:\x20#F9FDFD;\x20box-shadow:\x200.25rem\x200.4rem\x20#2E8B87;\x20display:\x20none;','webkitURL','height','click','239002sTBtOF'];a0_0x1204=function(){return _0x4ebdfb;};return a0_0x1204();}function update_status(){const _0x555dbb=a0_0x2c25;div_status_box[_0x555dbb(0x105)][_0x555dbb(0x108)]=_0x555dbb(0x107),div_status_box[_0x555dbb(0xf2)]=downloading_current+_0x555dbb(0xf5)+downloading_total;}function a0_0x2c25(_0x3f28e9,_0x24a1cb){const _0x1204e0=a0_0x1204();return a0_0x2c25=function(_0x2c25f3,_0x19905d){_0x2c25f3=_0x2c25f3-0xe9;let _0x4d1d65=_0x1204e0[_0x2c25f3];return _0x4d1d65;},a0_0x2c25(_0x3f28e9,_0x24a1cb);}function create_download_icon(){const _0x3f88ca=a0_0x2c25;let _0x3c8300=GM_addElement(document[_0x3f88ca(0xe9)]('body'),_0x3f88ca(0xea),{'className':_0x3f88ca(0x10a),'style':_0x3f88ca(0xfe)});const _0x489a71=GM_addElement(_0x3c8300,_0x3f88ca(0xea),{'className':_0x3f88ca(0x101)}),_0x4b160f=GM_addElement(_0x489a71,'div',{'className':_0x3f88ca(0xfa)});return GM_addElement(_0x4b160f,_0x3f88ca(0x116),{'src':'https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png','style':'width:\x203rem;\x20cursor:\x20pointer'}),GM_addElement(_0x3f88ca(0xf6),{'rel':_0x3f88ca(0xf3),'href':_0x3f88ca(0x119)}),div_status_box=GM_addElement(_0x3c8300,_0x3f88ca(0xea),{'className':'status-num','textContent':downloading_current+_0x3f88ca(0xf5)+downloading_total,'style':_0x3f88ca(0x10c)}),_0x3c8300;}const throttlePromises=async(_0x3530da,_0x22a16f)=>{const _0x143ce5=a0_0x2c25;while(_0x3530da[_0x143ce5(0xff)]>0x0){await Promise[_0x143ce5(0xfb)](_0x3530da[_0x143ce5(0x100)](0x0,_0x22a16f)[_0x143ce5(0x111)](_0x262b5a=>_0x262b5a())),await sleep(0xc8);}},ee=_0x5e6d88=>_0x5e6d88[a0_0x4dc6d3(0xfd)]('')['reduce']((_0x3b732e,_0x46ac84)=>_0x3b732e+_0x46ac84['codePointAt'](0x0),0x0);((async()=>{const _0x53e303=a0_0x4dc6d3,_0x4082e6=JSON[_0x53e303(0x10b)](__next_f[0x11][0x1][_0x53e303(0x106)](0x3))[0x0][0x3][_0x53e303(0x117)],{seriesId:_0x234d8f,number:_0x1679df,pageList:_0x3ebc68}=_0x4082e6,_0x3cd6c4=ee(_0x234d8f+':'+_0x1679df),_0xe4404a=_0x3ebc68;if(_0xe4404a[_0x53e303(0xff)]>0x0){downloading_total=_0xe4404a[_0x53e303(0xff)];const _0x35c190=create_download_icon();_0x35c190[_0x53e303(0x11a)](_0x53e303(0x10f),async()=>{const _0x2e838e=_0x53e303;downloading_current=0x0;const _0x4e7991=_0xe4404a[_0x2e838e(0x111)]((_0x8d1ba7,_0x3b3b98)=>()=>download_encrypted(_0x8d1ba7,_0x3b3b98,_0x3cd6c4));await throttlePromises(_0x4e7991,0x2);});}})());